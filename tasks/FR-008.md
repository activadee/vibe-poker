### Epic: Voting | **Goal**: Cast hidden vote | **Refs**: FR-008
- **Story**: As a player I can cast a vote which remains hidden until reveal. | **Estimate**: 5
  - **AC**:
    - `vote:cast` stores value by participant; re‑casting overwrites previous value.
    - `vote:progress` broadcasts counts only, not values.
  - **Tasks**:
    - [BE] RoomsService.castVote + progress calc — 2
    - [BE] Gateway `vote:cast` + validations — 1
    - [FE] Emit on card click + local selected state — 1
    - [QA] Multi‑client test: hidden until reveal — 1
  - **Dependencies**: FR‑002, FR‑007, NFR‑003
  - **DoD**:
    - No value appears in network logs before reveal (except on server).

---

Implementation (FR-008)

- Backend
  - Added `RoomsService.castVote(roomId, participantId, value)` that stores a participant's vote, overwriting any previous value.
  - Added `RoomsService.computeProgress(room)` that returns `{ count, total, votedIds }` for eligible voters (players + host).
  - Refactored `RoomsGateway`:
    - `vote:cast` validates role (observers forbidden) and delegates to `RoomsService.castVote`.
    - All vote progress broadcasts now use `RoomsService.computeProgress`.
    - `room:state` continues to omit votes until `vote:reveal` (no values leaked pre-reveal).

- Frontend
  - `VoteCardsComponent` emits `valueSelected` on card click and keeps local selected state.
  - `RoomComponent` listens to `vote:progress` and updates badges/counts; emits `vote:cast` on selection.

- Tests
  - Added unit tests for `RoomsService.castVote` and `computeProgress`.
  - Updated gateway tests to mock `castVote`/`computeProgress` and verify that `vote:progress` is sent while `room:state` is not sent on cast.
  - Existing test ensures `room:state` omits votes before reveal and includes them after reveal (multi-client hidden until reveal).

- DoD Verification
  - WebSocket traffic only includes `vote:progress` during casting; no vote values are sent until `vote:reveal`.
